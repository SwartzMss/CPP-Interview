---
title: explicit 关键字的作用
tags:
  - language
---

# `explicit` 关键字的作用

`explicit` 用于修饰构造函数或类型转换运算符，**禁止编译器进行隐式类型转换**。

## 何时需要 `explicit`

- 单参数（或可被视为单参数）构造函数。
- 类型转换运算符（如 `operator bool()`）。

## 示例

```cpp
struct Foo {
    explicit Foo(int x) { /* ... */ }
};

void bar(Foo f) {}

int main() {
    // bar(10);      // ❌ 错误：不能隐式将 int 转换为 Foo
    bar(Foo(10));    // ✅ 必须显式构造
}
```

## 作用与好处

- **防止意外的类型转换**：避免由于隐式转换导致的逻辑错误。
- **提高代码可读性和安全性**：只有在明确写出转换时才会发生，意图更清晰。
- **配合类型转换运算符使用**：可用于 `operator bool()` 等，避免对象被错误地当作其他类型使用。

---

总结：`explicit` 关键字让类型转换从“自动”变为“手动”，确保转换行为完全在程序员的控制之下。

